# Dev local configuaration
#
image:
  tag: "0.9.8"

replicaCount: 1

service:
  port: 80

env:
  - name: SECRET_KEY
    value: DevHelmChartSecret
  - name: ENV
    value: "k3d-dev environment"

volumeMounts:
  - mountPath: /run/secret/my-secret
    name: testssecret

ingress:
  enabled: true
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
  hosts:
    - host: testserver.dev.local
      paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: testserver
              port:
                number: 80

persistence:
  enabled: false
  snapshots: false
  volumes:
    - name: testserver-data
      claimName: testserver-data
      storageClass: "local"
      size: 512M
      accessMode: ReadWriteMany

localSecrets:
  enabled: true
  secrets:
    - name: testsecret
      secretName: my_secret
      mountPath: /run/secret/my-secret
